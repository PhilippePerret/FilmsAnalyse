# Fichier des tests concernant l'analyse dans
# son ensemble, création, ouverture, etc.
---

  create_from_scratch:
    libelle: Création d'une nouvelle analyse à l'ouverture
    description: On ouvre l'application et on crée une nouvelle analyse
    synopsis:
      - ouvrir l'app
      - désactiver l'option « Charger la dernière analyse au chargement »
      - quitter l'app
      - rouvrir l'app (aucune analyse ne devrait s'ouvrir)
      - créer l'analyse en choisissant le dossier et le fichier vidéo
      - procéder aux 'premiers_tests'
      - créer deux events
      - enregistrer l'analyse
      - quitter l'app
      - rouvrir l'app
      - utiliser le menu « Ouvrir… » et choisir l'analyse créée.
    verifications:
      premiers_tests:
        - La liste des events doit être nulle au départ
      tests_suivants:
        - la vidéo doit être la bonne
        - la liste des documents doit être vide

  create_when_current:
    libelle: Création d'une nouvelle analyse avec une analyse courante
    description: On ouvre une analyse existante dans l'application et on crée la nouvelle analyse.
    synopsis:
      - ouvrir l'app
      - activer l'option « Charger la dernière analyse au chargement »
      - ouvrir une analyse existante et fonctionnelle
      - quitter l'app
      - rouvrir l'app (l'analyse doit se charger)
      - créer une nouvelle analyse à partir du menu « Nouvelle… »
      - procéder au premier_test
    verifications:
      premier_test:
        - La liste des events doit être nulle
        - la vidéo doit être la bonne (et pas celle de l'autre analyse)
        - la liste des documents doit être vide
